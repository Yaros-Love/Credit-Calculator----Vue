(function(t){function e(e){for(var r,n,o=e[0],s=e[1],i=e[2],f=0,m=[];f<o.length;f++)n=o[f],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&m.push(c[n][0]),c[n]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(m.length)m.shift()();return l.push.apply(l,i||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],r=!0,o=1;o<a.length;o++){var s=a[o];0!==c[s]&&(r=!1)}r&&(l.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},c={app:0},l=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var i=0;i<o.length;i++)e(o[i]);var u=s;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t._m(0),a("section",{staticClass:"wrapper"},[a("section",{staticClass:"calculate"},[a("form",{staticClass:"calculate__form",attrs:{action:"submit"}},[a("label",{staticClass:"calculate__form__item"},[t._v("Стоимость "),a("span",{staticClass:"calculate__form__item__container"},[a("b-form-input",{attrs:{type:"text",name:"cost","lazy-formatter":"",formatter:t.formatter,placeholder:"Введите стоимость",required:""},nativeOn:{input:function(e){return t.isInputNumber(e)}},model:{value:t.calculator.cost,callback:function(e){t.$set(t.calculator,"cost",e)},expression:"calculator.cost"}}),a("span",[t._v("₽")])],1)]),a("label",{staticClass:"calculate__form__item"},[t._v("Первоначальный взнос "),a("span",{staticClass:"calculate__form__item__container"},[a("b-form-input",{attrs:{type:"text",name:"firstPayment","lazy-formatter":"",formatter:t.formatter,placeholder:"Введите сумму",required:""},nativeOn:{input:function(e){return t.isInputNumber(e)}},model:{value:t.calculator.firstPayment,callback:function(e){t.$set(t.calculator,"firstPayment",e)},expression:"calculator.firstPayment"}}),a("span",[t._v("₽")])],1)]),a("b-form-radio-group",{staticClass:"w-100",attrs:{options:t.options,name:"buttons-1",size:"lg",buttons:""},nativeOn:{change:function(e){return t.activateRadioButton(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("label",{staticClass:"calculate__form__item"},[t._v("Срок кредита "),a("span",{staticClass:"calculate__form__item__container"},[a("b-form-input",{attrs:{type:"text",name:"term","lazy-formatter":"",formatter:t.formatter,placeholder:"Введите количество лет",required:""},nativeOn:{input:function(e){return t.isInputNumber(e)}},model:{value:t.calculator.term,callback:function(e){t.$set(t.calculator,"term",e)},expression:"calculator.term"}}),a("span",[t._v("лет")])],1)]),a("label",{staticClass:"calculate__form__item"},[t._v("Процентная ставка "),a("span",{staticClass:"calculate__form__item__container"},[a("b-form-input",{attrs:{type:"text",name:"rate","lazy-formatter":"",formatter:t.formatter,placeholder:"Введите ставку",required:""},nativeOn:{input:function(e){return t.isInputNumber(e)}},model:{value:t.calculator.rate,callback:function(e){t.$set(t.calculator,"rate",e)},expression:"calculator.rate"}}),a("span",[t._v("₽")])],1)]),a("div",{staticClass:"button-wrapper"},[a("b-button",{staticClass:"button",attrs:{type:"submit",variant:"success"},on:{click:function(e){return e.preventDefault(),t.persist(e)}}},[t._v("Save")]),a("b-button",{staticClass:"button",attrs:{type:"button",variant:"outline-secondary"},on:{click:t.resetForm}},[t._v("Clear")])],1)],1)]),a("section",{staticClass:"result"},[a("div",{staticClass:"result__item"},[a("p",[t._v("Ежемесячный платеж:")]),a("span",{staticClass:"result__month"},[t._v(t._s(t._f("formatNumber")(t.calcMonthPayment?t.calcMonthPayment:0)))])]),a("div",{staticClass:"result__item"},[a("p",[t._v("Необходимый доход:")]),a("span",{staticClass:"result__income"},[t._v(t._s(t._f("formatNumber")(t.calcUncome?t.calcUncome:0)))])]),a("div",{staticClass:"result__item"},[a("p",[t._v("Переплата:")]),a("span",{staticClass:"result__overpayment"},[t._v(t._s(t._f("formatNumber")(t.calcOverPayment?t.calcOverPayment:0)))])]),a("div",{staticClass:"result__item"},[a("p",[t._v("Тело кредит:")]),a("span",{staticClass:"result__credit-body"},[t._v(t._s(t._f("formatNumber")(t.calcCreditBody?t.calcCreditBody:0)))])])])])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("h1",[t._v("Welcome! Please, calculate your credit.")])])}],n=(a("a9e3"),a("ac1f"),a("5319"),{name:"App",components:{},data:function(){return{calculator:{cost:"",firstPayment:"",term:"",rate:""},selected:"",options:[{text:"10%",value:.1},{text:"15%",value:.15},{text:"20%",value:.2},{text:"25%",value:.25},{text:"30%",value:.3}]}},mounted:function(){for(var t in this.calculator)this.calculator[t]=localStorage.getItem(t)},computed:{persist:function(){localStorage.setItem("cost",this.calculator.cost),localStorage.setItem("firstPayment",this.calculator.firstPayment),localStorage.setItem("term",this.calculator.term),localStorage.setItem("rate",this.calculator.rate)},isFormFull:function(){if(this.calculator.cost,this.calculator.firstPayment,this.calculator.term,this.calculator.rate)return!0},getMonths:function(){return 12*this.calculator.term},calcCreditBody:function(){if(this.calculator.cost&&this.calculator.firstPayment)return Math.round(this.calculator.cost.replace(/\s+/g,"")-this.calculator.firstPayment.replace(/\s+/g,""))},calcMonthPayment:function(){if(this.isFormFull){var t=this.calculator.rate/1200;return Math.round(this.calcCreditBody*(t+t/(Math.pow(1+t,this.getMonths)-1)))}},calcUncome:function(){if(this.isFormFull)return Math.round(5*this.calcMonthPayment/3)},calcOverPayment:function(){if(this.isFormFull){console.log(this.calcMonthPayment,this.getMonths,this.calculator.cost,this.calculator.firstPayment);var t=this.calcMonthPayment*this.getMonths-1*this.calculator.cost.replace(/\s+/g,"")+1*this.calculator.firstPayment.replace(/\s+/g,"");return console.log(t),t}}},methods:{activateRadioButton:function(t){console.log(this.selected);var e=this.calculator.cost.replace(/\s+/g,""),a=Math.round(e*this.selected)+"";this.calculator.firstPayment=a.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")},resetForm:function(){for(var t in this.calculator)this.calculator[t]=""},isInputNumber:function(t){this.selected="",Number(t.target.value.replace(/\s+/g,""))!==Number(t.target.value.replace(/\s+/g,""))?(t.target.setCustomValidity("Введите числовое значение!"),t.target.reportValidity()):(t.target.setCustomValidity(""),t.target.reportValidity())},formatter:function(t){return t.replace(/\s+/g,"").replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")}},filters:{formatNumber:function(t){return t.toLocaleString("ru")}}}),o=n,s=(a("034f"),a("2877")),i=Object(s["a"])(o,c,l,!1,null,null,null),u=i.exports,f=a("5f5b");a("f9e3"),a("2dd8");r["default"].use(f["a"]),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(u)}}).$mount("#app")},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.96a91206.js.map